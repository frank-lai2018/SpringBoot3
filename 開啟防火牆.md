在 centos 9 stream 上開啟 8080 port 防火牆，您需要使用 `firewalld` 服務。以下是詳細的步驟和指令：

### 步驟一：檢查防火牆狀態

首先，確認 `firewalld` 服務是否正在運行。

```bash
sudo firewall-cmd --state
```

*   如果輸出 `running`，表示防火牆正在運作。
*   如果輸出 `not running`，您需要先啟動它：
    ```bash
    sudo systemctl start firewalld
    ```

### 步驟二：永久開放 8080 端口

使用以下指令來永久開放 8080 端口的 TCP 流量。`--permanent` 參數確保了規則在系統重啟後依然有效。

```bash
sudo firewall-cmd --zone=public --add-port=8080/tcp --permanent
```

*   `--zone=public`：指定規則應用於公共區域，這是最常用的區域。
*   `--add-port=8080/tcp`：指定要開放的端口號和協議（這裡是 TCP）。
*   `--permanent`：將此規則永久保存。

執行後，您會看到 `success` 的提示。

### 步驟三：重新載入防火牆設定

為了讓新的規則立即生效，需要重新載入防火牆設定。

```bash
sudo firewall-cmd --reload
```

執行後，您會看到 `success` 的提示。

### 步驟四：驗證端口是否已開放

最後，您可以檢查防火牆已開放的端口列表，確認 8080 是否在其中。

```bash
sudo firewall-cmd --list-ports
```

如果成功，您應該會在輸出中看到 `8080/tcp`。

---

### 總結

最關鍵的兩個指令是：

1.  **新增規則**：
    ```bash
    sudo firewall-cmd --zone=public --add-port=8080/tcp --permanent
    ```
2.  **生效規則**：
    ```bash
    sudo firewall-cmd --reload
    ```

完成這些步驟後，您的 CentOS 9 Stream 伺服器就會允許外部透過 8080 端口進行訪問了。